<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="http://unpkg.com/normalize.css">
    <link rel="stylesheet" href="src/style.css" type="text/css">
    <!-- PixiJS must be imported before @pixi/sound -->
    <script src="https://unpkg.com/pixi.js@7.x/dist/pixi.min.js"></script>

    <!-- found here, if not using CDN "./node_modules/@pixi/sound/dist/pixi-sound.js" -->
    <script src="https://unpkg.com/@pixi/sound@5.2.1/dist/pixi-sound.js"></script>
    <title>Document</title>
</head>
<body>
    <div id="onboarding" class="active">
        <h1>Suddenly Driven</h1>
        <h2>Grace & Badlove</h2>
        <h3>¿Qué instrumento tocás?</h3>
        <div id="pick">
            <button class="pickInstrument" id="bass" disabled>Bass</button>
            <button class="pickInstrument" id="keyboard">Keyboard</button>
            <button class="pickInstrument" id="vocals" disabled>Vocals</button>
            <button class="pickInstrument" id="drums" disabled>Drums</button>
        </div>
        <h6>Esto es un demo</h6>
    </div>
    <div id="app">
        <div id="actions">
            <div class="buttonContainer">
                <button id="changeInstrument" class="harmonic"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none"><path opacity="0.3" d="M19.9824 0.3029C19.5785 -0.100967 18.9253 -0.100967 18.5256 0.3029L16.4586 2.3652C16.3555 2.46832 16.2739 2.59291 16.2223 2.7304L15.5605 4.49195L12.2301 7.826C10.292 6.56284 7.96288 6.52847 6.60064 7.89474C6.12793 8.36735 5.82712 8.95167 5.68101 9.59614C5.52201 10.3094 4.86023 10.9152 4.12969 10.9538C3.02958 11.0097 2.01112 11.4135 1.23761 12.1826C-0.687581 14.1117 -0.326608 17.5918 2.0412 19.9592C4.40901 22.3265 7.88982 22.6874 9.81501 20.7626C10.5842 19.9936 10.9925 18.971 11.044 17.8711C11.0827 17.1407 11.6886 16.4834 12.402 16.3201C13.0466 16.174 13.631 15.869 14.1037 15.4007C15.4703 14.0344 15.4359 11.71 14.1725 9.77229L17.5072 6.43824L19.2691 5.77659C19.4066 5.72503 19.5312 5.6434 19.6343 5.54028L21.697 3.47798C22.101 3.07412 22.101 2.42105 21.697 2.02148L19.9824 0.3029ZM8.93836 11.0011C9.48543 11.0011 10.0101 11.2184 10.3969 11.6051C10.7837 11.9919 11.0011 12.5164 11.0011 13.0634C11.0011 13.6103 10.7837 14.1349 10.3969 14.5216C10.0101 14.9084 9.48543 15.1257 8.93836 15.1257C8.3913 15.1257 7.86665 14.9084 7.47981 14.5216C7.09298 14.1349 6.87566 13.6103 6.87566 13.0634C6.87566 12.5164 7.09298 11.9919 7.47981 11.6051C7.86665 11.2184 8.3913 11.0011 8.93836 11.0011Z" fill="white"/></svg></button>
                <button id="muteOther" class="muteBtn" onclick="muteOther(this)">M</button>
                <button id="soloOther" class="soloBtn" onclick="toggleSoloOther(this)">S</button>
                <button id="toggleMetronome" onclick="toggleMetronome(this)"><svg xmlns="http://www.w3.org/2000/svg" width="13" height="20" viewBox="0 0 13 20" fill="none">
                    <path d="M8.96677 0.851659L9.3441 3.36722L7.69624 5.86399L7.11664 2H4.56139L2.16139 18H9.51664L8.77491 13.0551L10.4228 10.5584L11.6668 18.8517C11.7575 19.4563 11.2892 20 10.6778 20H1.0002C0.388837 20 -0.0794218 19.4563 0.0112688 18.8517L2.71127 0.851659C2.7847 0.362139 3.20521 0 3.70021 0H7.97783C8.47283 0 8.89334 0.36214 8.96677 0.851659Z" opacity=".3" fill="white"/>
                    <path d="M12.163 5.56653C12.4759 5.11142 12.3606 4.48884 11.9055 4.17596C11.4504 3.86307 10.8278 3.97837 10.5149 4.43347L5.01492 12.4335C4.70203 12.8886 4.81733 13.5112 5.27243 13.824C5.72754 14.1369 6.35012 14.0216 6.663 13.5665L12.163 5.56653Z" opacity=".3" fill="white"/>
                </svg></button>
            </div>
            <div class="timeIndicators">
                <span class="barIndicator"><span id="currentBar">–</span>Bar</span>
                <button id="togglePlay" onclick="togglePlay(this)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="18" viewBox="0 0 12 18" fill="none" class="audioPause">
                        <g opacity="0.3">
                            <path d="M1.5 0C0.671574 0 0 0.671573 0 1.5V16.5C0 17.3284 0.671574 18 1.5 18C2.32843 18 3 17.3284 3 16.5V1.5C3 0.671573 2.32843 0 1.5 0Z" fill="white"/>
                            <path d="M10.5 0C9.67157 0 9 0.671573 9 1.5V16.5C9 17.3284 9.67157 18 10.5 18C11.3284 18 12 17.3284 12 16.5V1.5C12 0.671573 11.3284 0 10.5 0Z" fill="white"/>
                        </g>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="18" viewBox="0 0 13 18" fill="none" class="audioPlay">
                        <path opacity="0.3" fill-rule="evenodd" clip-rule="evenodd" d="M0 2.11024C0 0.422987 1.96061 -0.50611 3.26648 0.562324L11.6873 7.45208C12.6653 8.25229 12.6653 9.7477 11.6873 10.5479L3.26648 17.4377C1.96061 18.5061 0 17.577 0 15.8898V2.11024ZM10.4208 9L2 2.11024V15.8898L10.4208 9Z" fill="white"/>
                    </svg>
                </button>
            </div>
        </div>
        <div id="visor">
            <!--button id="resumeAudio" onclick="resumeAll()">Resume Audio</button>
            <button id="pauseAudio" onclick="pauseAll()">Pause Audio</button-->
            <div id="mixer">
                <fieldset>
                    <label>Bass</label>
                    <button id="muteBass" class="muteBtn" onclick="muteBass(this)">M</button>
                    <button id="soloBass" class="soloBtn" onclick="toggleSoloBass(this)">S</button>
                </fieldset>
            
                <fieldset>
                    <label>Drums</label>
                    <button id="muteDrums" class="muteBtn" onclick="muteDrums(this)">M</button>
                    <button id="soloDrums" class="soloBtn" onclick="toggleSoloDrums(this)">S</button>
                </fieldset>
            
                <fieldset>
                    <label>Vocals</label>
                    <button id="muteVocals" class="muteBtn" onclick="muteVocals(this)">M</button>
                    <button id="soloVocals" class="soloBtn" onclick="toggleSoloVocals(this)">S</button>
                </fieldset>
            
                <fieldset>
                    <label>Harmonic</label>
                </fieldset>
            </div>

            <div id="metadata">
                <span id="tracktime">0:00</span>
                <div id="structure">
                    <div class="demo">
                        <div id="placeholder" class="macro hint active">
                            <h3>Estructura</h3>
                            <ul>
                                <li>Intro: 8 compases</li>
                                <li>Parte A: 16 compases</li>
                                <li>Parte B: 8 + 1 compases</li>
                                <li>Intro ii: 8 compases</li>
                                <li>Parte A ii: 16 compases</li>
                                <li>Parte B ii: 8 + 2 compases</li>
                            </ul>
                            <button id="playAudio" onclick="bufferIntent()">Reproducir Audio</button>
                        </div>
                        <div class="macro hint" data-part="intro" data-ocurrence="1" data-begins="1" data-ends="8">
                            <div class="micro hint" data-begins="1" data-ends="6">
                                <h3>Intro</h3>
                                <p>Penta de F#m</p>
                            </div>
                            <div class="micro hint" data-begins="7" data-ends="8">
                                <h3>Intro</h3>
                                <p>Turnaround</p>
                            </div>
                        </div>
                        <div class="macro hint" data-part="a" data-ocurrence="1" data-begins="9" data-ends="16">
                            <div class="micro hint" data-begins="9" data-ends="12">
                                <h3>F#m | Emaj7</h3>
                                <p>Un compás cada uno</p>
                            </div>
                            <div class="micro hint" data-begins="13" data-ends="16">
                                As the days go by I go evolving<br>
                                You remain the same and there’s no one else to blame<br>
                            </div>
                        </div>
                        <div class="macro hint" data-part="a" data-ocurrence="2" data-begins="17" data-ends="24">
                            <h3>A2</h3>
                            <div class="micro hint" data-begins="17" data-ends="20">
                                You repeat the lie while I’m finding myself, you all talking about time<br>
                                Why are you being someone else?<br>
                                Why are you being someone else?<br>
                            </div>
                            <div class="micro hint" data-begins="21" data-ends="24">
                                You repeat the lie while I’m finding myself, you all talking about timе<br>
                                Being someone еlse<br>
                                Why are you being someone else?<br>
                            </div>
                        </div>
                        <div class="macro hint" data-part="b" data-ocurrence="1" data-begins="25" data-ends="33">
                            <h3>B1</h3>
                        </div>
                        <div class="macro hint" data-part="intro" data-ocurrence="2" data-begins="34" data-ends="41">
                            <h3>Intro2</h3>
                        </div>
                        <div class="macro hint" data-part="a" data-ocurrence="3" data-begins="42" data-ends="49">
                            <h3>A3</h3>
                        </div>
                        <div class="macro hint" data-part="a" data-ocurrence="4" data-begins="50" data-ends="57">
                            <h3>A4</h3>
                        </div>
                        <div class="macro hint" data-part="b" data-ocurrence="2" data-begins="58" data-ends="67">
                            <h3>B2</h3>
                        </div>
                    </div>
                </div>
            </div>
            <div id="navigation">
                <input type="range" min="0" max="100" step="1" id="timeline" name="timeline" value="0" />
                <fieldset id="parts">
                    <button class="skipTo part-intro" data-skip="1" data-duration="8" style="flex: 8;">Intro</button>
                    <button class="skipTo part-a" data-skip="9" data-duration="8" style="flex: 8;">Verso 1 <small>Part Ai</small></button>
                    <button class="skipTo part-a" data-skip="17" data-duration="8" style="flex: 8;">Verso 1 <small>Part Aii</small></button>
                    <button class="skipTo part-b" data-skip="25" data-duration="9" style="flex: 9;">Estribillo 1 <small>Part B</small></button>
                    <button class="skipTo part-intro" data-skip="34" data-duration="8" style="flex: 8;">Intro ii</button>
                    <button class="skipTo part-a" data-skip="42" data-duration="8" style="flex: 8;">Verso 2 <small>Part Aiii</small></button>
                    <button class="skipTo part-a" data-skip="50" data-duration="8" style="flex: 8;">Verso 2 <small>Part Aiv</small></button>
                    <button class="skipTo part-b" data-skip="58" data-duration="10" style="flex: 10;">Estribillo 2 <small>Part Bii</small></button>
                </fieldset>
            </div>
        </div>
    </div>
    <script src="src/app.js"></script>
</body>
</html>